<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tetris Practice App</title>

    <!-- Bootstrap本体CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />

    <link rel="stylesheet" href="styles.css" />

    <!-- Hammer.js -->
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>

    <!-- Bootstrap本体JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
  </head>

  <body>
    <div id="app">
      <nav id="title-bar" class="navbar navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
          <span id="current-problem" class="navbar-brand problem-counter">
            問題 #1
          </span>
          <button
            id="settings-button"
            class="btn btn-outline-light d-flex align-items-center"
            type="button"
          >
            <i class="bi bi-gear"></i>
          </button>
        </div>
      </nav>

      <!-- メインビュー -->
      <div id="main-view" class="screen">
        <div
          id="board-container"
          class="d-flex flex-row justify-content-center align-items-start"
        >
          <div id="board"></div>
          <div id="next" class="ms-3"></div>
        </div>
      </div>

      <!-- ボトムナビバー (編集用バー) -->
      <nav id="edit-nav" class="navbar navbar-dark bg-dark fixed-bottom">
        <div class="container-fluid">
          <div class="btn-group" role="group" aria-label="Edit modes">
            <button
              id="auto-button"
              class="btn btn-secondary edit-option"
              data-action="auto"
              aria-pressed="false"
            >
              Auto
            </button>
            <button
              id="del-button"
              class="btn btn-secondary edit-option"
              data-action="delete"
              aria-pressed="false"
            >
              Del
            </button>
            <button
              id="gray-button"
              class="btn btn-secondary edit-option"
              data-action="gray"
              aria-pressed="false"
            >
              Gray
            </button>
          </div>
          <button
            id="clear-board"
            class="btn btn-outline-light edit-toggle ms-3"
            type="button"
          >
            Clear
          </button>
        </div>
      </nav>

      <!-- 設定画面: Bootstrapのモーダルを使用 -->
      <div
        class="modal fade"
        id="settings-screen"
        tabindex="-1"
        aria-labelledby="settingsModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content" id="settings-modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="settingsModalLabel">設定</h5>
              <!-- data-bs-dismiss="modal" をつけると、クリック時に閉じる動作が走る -->
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="閉じる"
                id="close-settings-without-save"
              ></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="width" class="form-label">盤面の幅 (3-10):</label>
                <input
                  id="width"
                  type="range"
                  class="form-range"
                  min="3"
                  max="10"
                  value="5"
                />
                <span id="width-value">5</span>
              </div>
              <div class="mb-3">
                <label for="height" class="form-label"
                  >盤面の高さ (6-10):</label
                >
                <input
                  id="height"
                  type="range"
                  class="form-range"
                  min="6"
                  max="10"
                  value="6"
                />
                <span id="height-value">6</span>
              </div>
              <div class="mb-3">
                <label for="next-count" class="form-label"
                  >ネクスト個数 (2-10):</label
                >
                <input
                  id="next-count"
                  type="range"
                  class="form-range"
                  min="2"
                  max="10"
                  value="5"
                />
                <span id="next-count-value">5</span>
              </div>
              <div class="mb-3">
                <label for="block-count" class="form-label"
                  >ランダム初期配置ブロック数 (0-30):</label
                >
                <input
                  id="block-count"
                  type="range"
                  class="form-range"
                  min="0"
                  max="30"
                  value="3"
                />
                <span id="block-count-value">3</span>
              </div>
            </div>
            <div class="modal-footer">
              <button
                id="save-and-close-settings"
                class="btn btn-primary"
                type="button"
              >
                保存して閉じる
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- /モーダル ここまで -->
    </div>

    <script src="script.js"></script>
  </body>
</html>
